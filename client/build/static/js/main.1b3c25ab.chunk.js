(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{363:function(e,t,a){},364:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),i=a.n(c),s=a(8),l=a(36),o=a(25),d=a(9),j=a(397),u=a(1),b=function(e){var t=e.full;return Object(u.jsx)("div",{className:"root_loader ".concat(t?"full":""),children:Object(u.jsx)(j.a,{})})},m=a(2),h=a(12),O=a.n(h),p=a(23),x=a(18),f=a.n(x),v="get_prod_by_sold",g="get_prod_by_date",y="get_prod_paginate",w="get_prod_by_id",N="clear_product_by_id",_="add_product",k="error_global",S="success_global",P="clear_notifications",T="auth_user",C="sign_out",E="update_user_profile",F="user_change_email",R="user_update_cart",q="payment_success",I="user_account_verify",A="get_all_brands",B="get_site_vars",L="update_site_vars",D=function(e){return{type:T,payload:e}},W=function(e){return{type:E,payload:e}},z=function(e){return{type:F,payload:e}},H=function(e){return{type:R,payload:e}},U=function(e){return{type:g,payload:e}},M=function(e){return{type:y,payload:e}},V=function(e){return{type:w,payload:e}},Y=function(){return{type:N}},$=function(e){return{type:_,payload:e}},G=function(e){return{type:A,payload:e}},K=function(e){return{type:k,payload:e}},J=function(e){return{type:S,payload:e}},X=function(){return function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:P});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q=a(75),Z=a(135),ee=a.n(Z),te=a(138),ae=a.n(te),ne=function(e){var t="";switch(e.type){case"default":t=Object(u.jsx)(l.Link,{className:e.altClass?e.altClass:"link_default",to:e.linkTo,style:Object(m.a)({},e.style),children:e.title});break;case"bag_link":t=Object(u.jsx)("div",{className:"bag_link",onClick:function(){e.runAction()},style:Object(m.a)({},e.style),children:Object(u.jsx)(ae.a,{style:{fontSize:e.iconSize}})});break;case"add_to_cart_link":t=Object(u.jsxs)("div",{className:"add_to_cart_link",onClick:function(){e.runAction()},children:[Object(u.jsx)(ae.a,{}),"Add to cart"]});break;default:t=""}return t},re=function(e){return e.length>0?e[0]:"/images/image_not_availble.png"},ce=function(e,t){switch(e){case"SUCCESS":Q.b.success(t,{position:Q.b.POSITION.BOTTOM_RIGHT});break;case"ERROR":Q.b.error(t,{position:Q.b.POSITION.BOTTOM_RIGHT});break;default:return!1}},ie=function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}},se=function(){return ee.a.load("x-access-token")},le=function(){return{headers:{Authorization:"Bearer ".concat(se())}}};f.a.defaults.headers.post["Content-Type"]="application/json";var oe=function(e){return function(){var t=Object(p.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/users/addtocart",{model:"".concat(e.model)},le());case 3:n=t.sent,console.log(n),a(H(n.data)),a(J("".concat(e.model," added to cart!"))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(K(t.t0.response.data.message));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},de=function(){return function(){var e=Object(p.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a().users.data,console.log(n),e.next=5,f.a.post("/api/users/revalidate",{email:n.email},le());case 5:t(J("Verification mail sent successfully. Please check your email!")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(K(e.t0.response.data.messages));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},je=function(e){var t=e.items;return Object(u.jsx)("div",{className:"slim_promotion",children:t?Object(u.jsxs)("div",{className:"slim_promotion_img",style:{background:"url(".concat(t.img,")")},children:[Object(u.jsx)("div",{className:"tag title",children:t.lineOne}),Object(u.jsx)("div",{className:"tag low_title",children:t.lineTwo}),Object(u.jsx)("div",{className:"btn",style:{display:"flex"},children:Object(u.jsx)(ne,{type:"default",title:t.linkTitle,linkTo:t.linkTo})})]}):null})},ue=a(112),be=a.n(ue),me=(a(156),a(157),function(e){var t=e.items;return Object(u.jsx)(be.a,Object(m.a)(Object(m.a)({},{dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1}),{},{children:t?t.map((function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"featured_image",style:{background:"url(".concat(e.img,")"),height:"".concat(window.innerHeight,"px")},children:Object(u.jsxs)("div",{className:"featured_action",children:[Object(u.jsx)("div",{className:"tag title",children:e.lineOne}),Object(u.jsx)("div",{className:"tag low_title",children:e.lineTwo}),Object(u.jsx)("div",{className:"btn",children:Object(u.jsx)(ne,{type:"default",title:e.linkTitle,linkTo:e.linkTo,style:{margin:"10px 0 0 0"}})})]})})},t)})):null}))}),he=function(){return Object(u.jsx)("div",{className:"featured_container",children:Object(u.jsx)(me,{items:[{img:"/images/featured/featured_home.jpg",lineOne:"Fender",lineTwo:"Custom shop",linkTitle:"Shop Now",linkTo:"/shop"},{img:"/images/featured/featured_home_2.jpg",lineOne:"B-Stock",lineTwo:"Awesome discounts",linkTitle:"View offers",linkTo:"/shop"}]})})};f.a.defaults.headers.post["Content-Type"]="application/json";var Oe=function(e){var t=e.limit,a=e.sortBy,n=e.order,r=e.where;return function(){var e=Object(p.a)(O.a.mark((function e(c){var i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("api/products/all",{params:{limit:t,sortBy:a,order:n}});case 3:i=e.sent,e.t0=r,e.next="bySold"===e.t0?7:"byDate"===e.t0?9:11;break;case 7:return c((s=i.data,{type:v,payload:s})),e.abrupt("break",12);case 9:return c(U(i.data)),e.abrupt("break",12);case 11:return e.abrupt("return",!1);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),c(K("Sorry something went wrong, try again!"));case 17:case"end":return e.stop()}var s}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},pe=function(e){return function(){var t=Object(p.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/products/paginate/all",e,le());case 3:n=t.sent,a(M(n.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(K(t.t0.response.data.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},xe=function(e){return function(){var t=Object(p.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/products/product/".concat(e));case 3:n=t.sent,a(V(n.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(K(t.t0.response.data.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},fe=a(420),ve=a(401),ge=a(96),ye=function(e){var t=e.modal,a=e.handleClose,n=e.errorType,r=Object(d.b)();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(fe.a,{show:t,onHide:a,centered:!0,children:[Object(u.jsx)(fe.a.Header,{closeButton:!0,children:Object(u.jsx)(fe.a.Title,{children:"auth"===n?"Please register/login!":"Please verify your email!"})}),Object(u.jsx)(fe.a.Body,{children:"auth"===n?Object(u.jsx)("div",{children:"Sorry, you need to register/sign in to continue."}):Object(u.jsx)("div",{children:"Sorry, you need to verify your email to continue."})}),Object(u.jsx)(fe.a.Footer,{children:"auth"===n?Object(u.jsx)(ge.LinkContainer,{to:"/sign_in",children:Object(u.jsx)(ve.a,{variant:"primary",children:"Register/SignIn"})}):Object(u.jsx)(ge.LinkContainer,{to:"/dashboard",children:Object(u.jsx)(ve.a,{variant:"primary",onClick:function(){return r(de())},children:"Resend verification"})})})]})})},we=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(null),l=Object(s.a)(i,2),o=l[0],j=l[1],b=Object(d.c)((function(e){return e.users})),m=Object(d.b)();return Object(u.jsxs)("div",{className:"card_item_wrapper ".concat(e.grid?"grid_bars":""),children:[Object(u.jsx)("img",{alt:e.item.model,src:re(e.item.images),width:"211px",height:"278px",style:{imageRendering:"-webkit-optimize-contrast"}}),Object(u.jsxs)("div",{className:"action_container",children:[Object(u.jsxs)("div",{className:"tags",children:[Object(u.jsx)("div",{className:"brand",children:e.item.brand.name}),Object(u.jsx)("div",{className:"name",children:e.item.model}),Object(u.jsxs)("div",{className:"price",children:["$",e.item.price]})]}),e.grid?Object(u.jsx)("div",{className:"description",children:Object(u.jsx)("p",{className:"mt-3",children:e.item.description})}):null,Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsx)("div",{className:"button_wrapp",children:Object(u.jsx)(ne,{type:"default",altClass:"card_link",title:"View product",linkTo:"/product_detail/".concat(e.item._id),style:{fontWeight:"bold"}})}),Object(u.jsx)("div",{className:"button_wrapp",children:Object(u.jsx)(ne,{type:"bag_link",runAction:function(){return t=e.item,b.auth?b.data.verified?void(0!==t.available?m(oe(t)):ce("ERROR","".concat(t.model," is out of stock!"))):(c(!0),j("verify"),!1):(c(!0),j("auth"),!1);var t},iconSize:"23"})})]})]}),Object(u.jsx)(ye,{modal:r,errorType:o,handleClose:function(){return c(!1)}})]})},Ne=function(e){var t=e.items,a=e.title,n=e.shop,r=e.grid;return Object(u.jsx)("div",{className:n?"card_block_shop":"card_block",children:Object(u.jsxs)("div",{className:n?"":"container",children:[a?Object(u.jsxs)("div",{className:"title",children:[a," "]}):null,Object(u.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:t?t.map((function(e){return Object(u.jsx)(we,{item:e,grid:r},e._id)})):null})]})})},_e={img:"/images/featured/featured_home_3.jpg",lineOne:"Up to 40% off",lineTwo:"On second hand guitars",linkTitle:"Shop Now",linkTo:"/shop"},ke=function(){var e=Object(d.c)((function(e){return e.products})),t=e.bySold,a=e.byDate,r=Object(d.b)();return Object(n.useEffect)((function(){r(Oe({limit:4,sortBy:"itemSold",order:"desc",where:"bySold"})),r(Oe({limit:4,sortBy:"date",order:"desc",where:"byDate"}))}),[r]),Object(u.jsxs)("div",{children:[Object(u.jsx)(he,{}),t?Object(u.jsx)(Ne,{items:t,title:"Best selling guitars"}):Object(u.jsx)(b,{}),Object(u.jsx)(je,{items:_e}),a?Object(u.jsx)(Ne,{items:a,title:"Latest guitars on the shop"}):Object(u.jsx)(b,{})]})},Se=a(186),Pe=a.n(Se),Te=a(188),Ce=a.n(Te),Ee=a(187),Fe=a.n(Ee),Re=a(116),qe=a.n(Re),Ie=function(){var e=Object(d.c)((function(e){return e.site}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("footer",{children:Object(u.jsx)("div",{className:" container bck_b_dark",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"logo",children:"WAVES"}),e&&e.vars?Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsxs)("div",{className:"left",children:[Object(u.jsx)("h2",{children:"Contact Information"}),Object(u.jsxs)("div",{className:"business_nfo",children:[Object(u.jsxs)("div",{className:"tag",children:[Object(u.jsx)(Pe.a,{}),Object(u.jsxs)("div",{className:"nfo",children:[Object(u.jsx)("div",{children:"Address"}),Object(u.jsx)("div",{children:e.vars.address})]})]}),Object(u.jsxs)("div",{className:"tag",children:[Object(u.jsx)(Fe.a,{}),Object(u.jsxs)("div",{className:"nfo",children:[Object(u.jsx)("div",{children:"Phone"}),Object(u.jsx)("div",{children:e.vars.phone})]})]}),Object(u.jsxs)("div",{className:"tag",children:[Object(u.jsx)(Ce.a,{}),Object(u.jsxs)("div",{className:"nfo",children:[Object(u.jsx)("div",{children:"Working hours"}),Object(u.jsx)("div",{children:e.vars.hours})]})]}),Object(u.jsxs)("div",{className:"tag",children:[Object(u.jsx)(qe.a,{}),Object(u.jsxs)("div",{className:"nfo",children:[Object(u.jsx)("div",{children:"Email"}),Object(u.jsx)("div",{children:e.vars.email})]})]})]})]}),Object(u.jsxs)("div",{className:"right",children:[Object(u.jsx)("h2",{children:"Be the first"}),Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."})})]})]}):null]})})})})},Ae=(a(262),function(e){var t=e.user,a=e.signOutUser;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("header",{className:"container bck_b_light",children:Object(u.jsxs)("div",{className:"container",style:{display:"flex"},children:[Object(u.jsx)("div",{className:"left",children:Object(u.jsx)("div",{className:"logo",children:Object(u.jsx)(l.Link,{className:"logo",to:"/",children:"WAVES"})})}),Object(u.jsxs)("div",{className:"right",children:[Object(u.jsx)("div",{className:"top",children:t.auth?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(l.Link,{to:"/dashboard/user/user_cart",children:[Object(u.jsx)("div",{className:"cart_link",children:Object(u.jsx)("span",{style:{left:"".concat(t.data.cart.length>=10?"-47px":"-40px")},children:t.data.cart.length})}),"My Cart"]}),Object(u.jsx)(l.Link,{to:"/dashboard",children:"My Account"}),Object(u.jsx)("span",{onClick:function(){return a()},children:" Log out"})]}):Object(u.jsx)(l.Link,{to:"/sign_in",children:"Log in"})}),Object(u.jsxs)("div",{className:"bottom",children:[Object(u.jsx)(l.Link,{to:"/",children:"Home"}),Object(u.jsx)(l.Link,{to:"/shop",children:"Shop"})]})]})]})})})}),Be=(a(263),function(e){var t=Object(d.c)((function(e){return e.notifications})),a=Object(d.b)();return Object(n.useEffect)((function(){if(t&&t.success){var e=t.msg?t.msg:"Success";ce("SUCCESS",e),a(X())}if(t&&t.error){var n=t.msg?t.msg:"Error";ce("ERROR",n),a(X())}}),[t,a]),Object(u.jsxs)(u.Fragment,{children:[e.children,Object(u.jsx)(Q.a,{})]})}),Le=a(407),De=a(29),We=a(13),ze=a(426),He=function(e){var t=Object(d.c)((function(e){return e.notifications})),a=Object(n.useState)(!1),r=Object(s.a)(a,2),c=r[0],i=r[1],l=Object(d.b)(),o=Object(De.a)({initialValues:{email:"",password:""},validationSchema:We.e({email:We.f().required("Sorry the email is required").email("Invalid email"),password:We.f().required("Password is required")}),onSubmit:function(e,t){t.resetForm;i(!0),j(e)}}),j=function(t){e.formType?l(function(e){return function(){var t=Object(p.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/auth/register",{email:e.email,password:e.password});case 3:n=t.sent,a(D({data:n.data.user,auth:!0})),a(J("Welcome to Waves! Please check your email to verify account!")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(K(t.t0.response.data.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t)):l(function(e){return function(){var t=Object(p.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/auth/signin",{email:e.email,password:e.password});case 3:n=t.sent,a(D({data:n.data.user,auth:!0})),n.data.user.verified?a(J("Welcome back!")):a(J("Welcome back! Don't forget to verify your email!")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(K(t.t0.response.data.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(n.useEffect)((function(){i(!1),t&&t.success&&e.history.push("/dashboard")}),[t,e.history]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"auth_container",children:c?Object(u.jsx)(b,{}):Object(u.jsxs)("form",{className:"mt-3",onSubmit:o.handleSubmit,children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"email",label:"Enter your email",variant:"outlined"},o.getFieldProps("email")),ie(o,"email")))}),Object(u.jsx)("div",{className:"form-group mt-3 mb-2",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"password",label:"Enter your password",variant:"outlined",type:"password"},o.getFieldProps("password")),ie(o,"password")))}),Object(u.jsx)(Le.a,{variant:"contained",color:"primary",type:"submit",size:"medium",children:e.formType?"Register":"Login"})]})})})};var Ue=function(e){var t=Object(d.c)((function(e){return e.users}));return Object(u.jsx)(u.Fragment,{children:t.auth?Object(u.jsx)(o.c,{to:"/dashboard"}):e.children})},Me=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(u.jsx)(Ue,{children:Object(u.jsx)("div",{className:"page_wrapper",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"register_login_container",children:[Object(u.jsxs)("div",{className:"left",children:[r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"New Customer"}),Object(u.jsx)("p",{children:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo."})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Welcome Back"}),Object(u.jsx)("p",{children:"Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum"})]}),Object(u.jsx)(Le.a,{variant:"contained",color:"default",size:"small",onClick:function(){c(!r)},children:r?"Already registered ?":"Need to register ?"})]}),Object(u.jsxs)("div",{className:"right",children:[Object(u.jsx)("h2",{children:r?"Register":"Sign in"}),Object(u.jsx)(He,Object(m.a)({formType:r},e))]})]})})})})},Ve=[{name:"My Account",linkTo:"/dashboard"},{name:"User Information",linkTo:"/dashboard/user/user_info"},{name:"My Cart",linkTo:"/dashboard/user/user_cart"}],Ye=[{name:"Products",linkTo:"/dashboard/admin/admin_products"},{name:"Manage Site",linkTo:"/dashboard/admin/manage_site"}],$e=function(e){var t=Object(d.c)((function(e){return e.users})),a=function(e){return e.map((function(e,t){return Object(u.jsx)(l.Link,{to:e.linkTo,children:e.name},"".concat(e.name).concat(t))}))};return Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"user_container page_container",children:[Object(u.jsxs)("div",{className:"user_left_nav",children:[Object(u.jsx)("h2",{children:"Account Details"}),Object(u.jsx)("div",{className:"links",children:a(Ve)}),t&&"admin"===t.data.role?Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Admin"}),Object(u.jsx)("div",{className:"links",children:a(Ye)})]}):null]}),Object(u.jsxs)("div",{className:"user_right",children:[Object(u.jsx)("div",{className:"dashboard_title",children:Object(u.jsx)("h1",{children:e.title})},"".concat(e.title)),e.children]})]})})},Ge=a(408),Ke=a(97),Je=a.n(Ke),Xe=function(e){var t=e.history.slice(0).reverse();return Object(u.jsx)("div",{style:{marginBottom:"-0.8rem"},children:Object(u.jsxs)(Ge.a,{striped:!0,bordered:!0,hover:!0,children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Date"}),Object(u.jsx)("th",{children:"Products"}),Object(u.jsx)("th",{children:"Amount Paid"}),Object(u.jsx)("th",{children:"Order ID"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)(Je.a,{format:"DD-MMM-YYYY",children:e.date})}),Object(u.jsx)("td",{children:e.items.map((function(e,t){return Object(u.jsx)("div",{children:e.name},t)}))}),Object(u.jsx)("td",{style:{color:"#008000",marginLeft:"2px"},children:Object(u.jsxs)("b",{children:["$",e.amount," "]})}),Object(u.jsx)("td",{children:e.orderID})]},e.tansactionID)}))})]})})},Qe=a(194),Ze=a.n(Qe),et=a(195),tt=a.n(et),at=function(e){var t=e.users,a=Object(d.b)();return Object(u.jsxs)($e,{title:"Overview",children:[Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"user_nfo_panel",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(Ze.a,{style:{marginBottom:"8px",marginLeft:"2px",fontSize:"30px"}}),Object(u.jsx)("span",{style:{marginRight:"5px",marginLeft:"8px",fontSize:"20px",fontWeight:"400"},children:t.data.firstname}),Object(u.jsx)("span",{style:{fontSize:"20px",fontWeight:"400"},children:t.data.lastname})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)(qe.a,{style:{marginBottom:"8px",marginLeft:"2px",fontSize:"30px"}}),Object(u.jsx)("span",{style:{marginRight:"5px",marginLeft:"8px",fontSize:"20px",fontWeight:"400"},children:t.data.email}),t&&t.data.verified?null:Object(u.jsx)("span",{children:Object(u.jsx)(Le.a,{variant:"outlined",color:"secondary",startIcon:Object(u.jsx)(tt.a,{}),style:{maxHeight:"30px",fontSize:"20px",marginLeft:"50px",marginBottom:"5px"},onClick:function(){a(de())},children:"Verify Email"})})]})]}),Object(u.jsx)("hr",{style:{height:"1px"}}),t.data.history?Object(u.jsxs)("div",{className:"user_nfo_panel",children:[Object(u.jsx)("h1",{children:"History of purchases"}),t.data.history.length>0?Object(u.jsx)("div",{className:"user_product_block",style:{display:"flow-root"},children:Object(u.jsx)(Xe,{history:t.data.history})}):Object(u.jsx)("div",{className:"user_product_block",style:{justifyContent:"center"},children:Object(u.jsx)("h5",{style:{color:"rgb(104, 104, 104)",fontSize:"18px"},children:"You have not made any purchases."})})]}):null]})]})};function nt(e){return function(t){var a=Object(n.useState)(!1),r=Object(s.a)(a,2),c=r[0],i=r[1],l=Object(d.c)((function(e){return e.users}));return Object(n.useEffect)((function(){l.auth?i(!0):t.history.push("/")}),[t,l]),c?Object(u.jsx)(e,Object(m.a)({users:l},t)):Object(u.jsx)(b,{full:!0})}}var rt=a(429),ct=a(409),it=a(425),st=function(e){var t=e.users,a=Object(n.useState)(!1),r=Object(s.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(!1),o=Object(s.a)(l,2),j=o[0],h=o[1],x=Object(d.c)((function(e){return e.notifications})),v=Object(d.b)(),g=Object(n.useState)(0),y=Object(s.a)(g,2),w=y[0],N=y[1],_=Object(De.a)({enableReinitialize:!0,initialValues:{email:"",newemail:""},validationSchema:We.e({email:We.f().required("This is required").email("This is not a valid email").test("match","Please verify your old email",(function(e){return e===t.data.email})),newemail:We.f().required("This is required").email("This is not a valid email").test("match","Please enter a new email",(function(e){return e!==t.data.email}))}),onSubmit:function(e){var t;i(!0),v((t=e,function(){var e=Object(p.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.patch("/api/users/email",{newemail:t.newemail},le());case 3:a(z(t.newemail)),a(J("Email updated successfully. Please verify your new email!")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(K(e.t0.response.data.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}}),k=function(){return h(!1)},S=function(){N((function(e){return e+1}))},P=function(){N((function(e){return e-1}))},T=function(){return Object(u.jsx)(Le.a,{className:"mt-3",variant:"contained",color:"primary",onClick:S,children:"Next"})},C=function(){return Object(u.jsx)(Le.a,{className:"mt-3 mr-2",style:{marginRight:"6px"},variant:"contained",onClick:P,children:"Back"})};return Object(n.useEffect)((function(){x&&x.success&&k(),i(!1)}),[x]),Object(u.jsxs)("div",{children:[Object(u.jsxs)("form",{className:"mt-3 article_form",style:{maxWidth:"250px"},children:[Object(u.jsx)("div",{className:"form-group mt-4 mb-2",children:Object(u.jsx)(ze.a,{style:{width:"100%"},name:"emailStatic",variant:"outlined",value:t.data.email,disabled:!0})}),Object(u.jsx)(Le.a,{variant:"contained",color:"primary",onClick:function(){return h(!0)},children:"Change email?"})]}),Object(u.jsxs)(fe.a,{size:"lg",centered:!0,show:j,onHide:k,children:[Object(u.jsx)(fe.a.Header,{closeButton:!0,children:Object(u.jsx)(fe.a.Title,{children:"Update User Email"})}),Object(u.jsxs)(fe.a.Body,{children:[Object(u.jsx)(rt.a,{activeStep:w,children:["Enter old email","Enter new email","Are you sure ?"].map((function(e,t){return Object(u.jsx)(ct.a,{children:Object(u.jsx)(it.a,{children:e})},t)}))}),Object(u.jsxs)("form",{className:"stepper_form",onSubmit:_.handleSubmit,children:[0===w?Object(u.jsx)("div",{className:"mb-2 mt-1",style:{textAlign:"center",maxWidth:"700px",marginLeft:"10%",marginRight:"10%"},children:Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"email",label:"Enter your current email",variant:"outlined"},_.getFieldProps("email")),ie(_,"email"))),_.values.email&&!_.errors.email?T():null]})}):null,1===w?Object(u.jsx)("div",{className:"mb-2 mt-1",style:{textAlign:"center",maxWidth:"700px",marginLeft:"10%",marginRight:"10%"},children:Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"newemail",label:"Enter your new email",variant:"outlined"},_.getFieldProps("newemail")),ie(_,"newemail"))),C(),_.values.newemail&&!_.errors.newemail?T():null]})}):null,2===w?Object(u.jsx)("div",{className:"mb-2 mt-1",style:{textAlign:"center",maxWidth:"700px",marginLeft:"10%",marginRight:"10%"},children:Object(u.jsx)("div",{className:"form-group",children:c?Object(u.jsx)(b,{}):Object(u.jsxs)(u.Fragment,{children:[C(),Object(u.jsx)(Le.a,{className:"mt-3",variant:"contained",color:"secondary",type:"submit",children:"Update"})]})})}):null]})]})]})]})},lt=function(e){var t=e.users,a=Object(n.useState)(!1),r=Object(s.a)(a,2),c=r[0],i=r[1],l=Object(d.b)(),o=Object(De.a)({enableReinitialize:!0,initialValues:{firstname:t.data.firstname,lastname:t.data.lastname},validationSchema:We.e({firstname:We.f().min(3,"At least 3 characters required").max(30,"Character limit is 30").required("Sorry, first name is required"),lastname:We.f().min(3,"At least 3 characters required").max(30,"Character limit is 30").required("Sorry, last name is required")}),onSubmit:function(e){var t;l((t=e,function(){var e=Object(p.a)(O.a.mark((function e(a,n){var r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.patch("/api/users/profile",{data:t},le());case 3:r=e.sent,c=Object(m.a)(Object(m.a)({},n().users.data),{},{firstname:r.data.firstname,lastname:r.data.lastname}),a(W(c)),a(J("Profile updated successfully!")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a(K(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))}});return Object(u.jsxs)($e,{title:"User information",children:[Object(u.jsx)("hr",{}),Object(u.jsxs)("form",{className:"mt-3 article_form",style:{maxWidth:"250px"},onSubmit:o.handleSubmit,children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"firstname",label:"Enter your firstname",variant:"outlined",disabled:!c},o.getFieldProps("firstname")),ie(o,"firstname")))}),Object(u.jsx)("div",{className:"form-group mt-3 mb-2",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"lastname",label:"Enter your lastname",variant:"outlined",disabled:!c},o.getFieldProps("lastname")),ie(o,"lastname")))})]}),c?Object(u.jsx)(Le.a,{variant:"contained",color:"primary",onClick:o.handleSubmit,children:"Update Profile"}):Object(u.jsx)(Le.a,{variant:"contained",color:"primary",onClick:function(){return i(!c)},children:"Edit profile?"}),Object(u.jsx)("hr",{style:{height:"1px"}}),Object(u.jsx)("div",{children:Object(u.jsx)(st,{users:t})})]})},ot=a(423),dt=function(e){var t=e.prods,a=e.prev,n=e.next,r=e.edit,c=e.removeModal,i=e.handleClose,s=e.handleItemToRemove,l=e.modelToBeRemoved,o=e.handleRemove,d=function(e){a(e)},j=function(e){n(e)};return Object(u.jsxs)(u.Fragment,{children:[t&&t.docs?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(Ge.a,{striped:!0,bordered:!0,hover:!0,children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Created"}),Object(u.jsx)("th",{children:"Model"}),Object(u.jsx)("th",{children:"Available"}),Object(u.jsx)("th",{colSpan:2,style:{textAlign:"center"},children:"Admin Actions"})]})}),Object(u.jsx)("tbody",{children:t.docs.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)(Je.a,{to:e.date})," (",Object(u.jsx)(Je.a,{format:"DD-MMM-YYYY",children:e.date}),")"]}),Object(u.jsx)("td",{children:e.model}),Object(u.jsx)("td",{children:e.available}),Object(u.jsx)("td",{className:"action_btn edit_btn",onClick:function(){return r(e._id)},children:"Edit"}),Object(u.jsx)("td",{className:"action_btn remove_btn",onClick:function(){return s(e._id,e.model)},children:"Remove"})]},e._id)}))})]}),Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(u.jsxs)(ot.a,{children:[t.hasPrevPage?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ot.a.Prev,{onClick:function(){return d(t.prevPage)}}),Object(u.jsx)(ot.a.Item,{onClick:function(){return d(t.prevPage)},children:t.prevPage})]}):null,Object(u.jsx)(ot.a.Item,{active:!0,children:t.page}),t.hasNextPage?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ot.a.Item,{onClick:function(){return j(t.nextPage)},children:t.nextPage}),Object(u.jsx)(ot.a.Next,{onClick:function(){return j(t.nextPage)}})]}):null]})})]}):Object(u.jsx)(b,{}),Object(u.jsxs)(fe.a,{show:c,onHide:i,children:[Object(u.jsx)(fe.a.Header,{closeButton:!0,children:Object(u.jsx)(fe.a.Title,{children:"Are you sure?"})}),Object(u.jsxs)(fe.a.Body,{children:['"',l,'" will be deleted permanently.']}),Object(u.jsxs)(fe.a.Footer,{children:[Object(u.jsx)(ve.a,{variant:"danger",onClick:o,children:"Delete"}),Object(u.jsx)(ve.a,{variant:"secondary",onClick:i,children:"Cancel"})]})]})]})},jt=a(410),ut=a(198),bt=a.n(ut),mt=a(197),ht=a.n(mt),Ot={keywords:"",brand:[],min:0,max:5e3,frets:[],page:1},pt=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(s.a)(i,2),o=l[0],b=l[1],h=Object(n.useState)(null),x=Object(s.a)(h,2),v=x[0],g=x[1],y=Object(n.useState)(""),w=Object(s.a)(y,2),N=w[0],_=w[1],k=Object(d.c)((function(e){return e.products})),S=Object(d.c)((function(e){return e.notifications})),P=Object(d.b)(),T=Object(n.useReducer)((function(e,t){return Object(m.a)(Object(m.a)({},e),t)}),Ot),C=Object(s.a)(T,2),E=C[0],F=C[1],R=Object(De.a)({initialValues:{keywords:""},validationSchema:We.e({keywords:We.f().min(3,"Min 3 characters required to search").max(200,"Your search is too long")}),onSubmit:function(e){F({keywords:e.keywords.trim(),page:1})}}),q=function(e){F({page:e})},I=function(){c(!1),g(null),_("")},A=function(){var e;P((e=v,function(){var t=Object(p.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.delete("/api/products/product/".concat(e),le());case 3:a({type:"remove_product"}),a(J("Product deleted successfully!")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(K(t.t0.response.data.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))};return Object(n.useEffect)((function(){P(pe(E))}),[P,E]),Object(n.useEffect)((function(){I(),S&&S.success&&P(pe(E))}),[P,S,E]),Object(u.jsxs)($e,{title:"Products",children:[Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"products_table",children:[Object(u.jsx)("div",{className:"mt-3",children:Object(u.jsx)("form",{onSubmit:R.handleSubmit,children:Object(u.jsx)("div",{style:{alignItems:"center"},children:Object(u.jsxs)(jt.a,{container:!0,direction:"row",alignItems:"center",justifyContent:"center",spacing:1,style:{minHeight:"5vh"},children:[Object(u.jsx)(jt.a,{item:!0,xs:7,children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"keywords",label:"Enter your search",variant:"outlined"},R.getFieldProps("keywords")),ie(R,"keywords")))}),Object(u.jsx)(jt.a,{item:!0,xs:!0,children:o?Object(u.jsx)(j.a,{className:"mb-2",size:"40px",color:"secondary",style:{marginLeft:"5px"}}):Object(u.jsx)(ht.a,{className:"mb-2",style:{marginLeft:"5px",cursor:"pointer",fontSize:"40px"},color:"secondary",onClick:function(){b(!0),F(Ot),R.resetForm(),setTimeout((function(){b(!1)}),500)}})}),Object(u.jsx)(jt.a,{item:!0,xs:3,justifyContent:"center",children:Object(u.jsx)(ge.LinkContainer,{to:"/dashboard/admin/add_product",children:Object(u.jsx)(Le.a,{className:"mb-2",variant:"contained",startIcon:Object(u.jsx)(bt.a,{}),children:"Add Product"})})})]})})})}),Object(u.jsx)("hr",{style:{height:"1px"}}),Object(u.jsx)(dt,{prods:k.byPaginate,prev:function(e){return q(e)},next:function(e){return q(e)},edit:function(t){return function(t){e.history.push("/dashboard/admin/edit_product/".concat(t))}(t)},removeModal:r,handleClose:function(){return I()},handleItemToRemove:function(e,t){return function(e,t){g(e),_(t),c(!0)}(e,t)},modelToBeRemoved:N,handleRemove:function(){return A()}})]})]})};function xt(){var e=Object(o.l)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}f.a.defaults.headers.post["Content-Type"]="application/json";var ft=function(){return function(){var e=Object(p.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/brands/all");case 3:a=e.sent,t(G(a.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(K(e.t0.response.data.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},vt={model:"",brand:"",frets:"",woodtype:"",description:"",price:"",available:"",shipping:!1,images:[]},gt=function(){return We.e({model:We.f().required("Model is required"),brand:We.f().required("Brand is required"),frets:We.d().required("Frets are required").oneOf([20,21,22,24],"Only 20,21,22,24 frets are allowed"),woodtype:We.f().required("WoodType is required"),description:We.f().required("Description is required"),price:We.d().required("Price is required").min(1,"Price cannot be lower than 1").max(1e4,"Price cannot be greater than 10000"),available:We.d().required("How many do we have in stock?"),shipping:We.b().required("Do we offer shipping?"),images:We.a()})},yt=a(422),wt=a(427),Nt=a(199),_t=a.n(Nt),kt=function(e){var t=e.imageUrl,a=Object(n.useState)(!1),r=Object(s.a)(a,2),c=r[0],i=r[1],l=Object(De.a)({initialValues:{pic:""},validationSchema:We.e({pic:We.c().required("An image is required")}),onSubmit:function(e){i(!0);var a=new FormData;a.append("file",e.pic),f.a.post("/api/products/upload",a,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(se())}}).then((function(e){t(e.data)})).catch((function(e){alert(e)})).finally((function(){i(!1)}))}});return Object(u.jsx)(u.Fragment,{children:c?Object(u.jsx)(b,{}):Object(u.jsx)("div",{children:Object(u.jsx)(yt.a,{onSubmit:l.handleSubmit,children:Object(u.jsxs)(yt.a.Group,{children:[Object(u.jsxs)(wt.a,{children:[Object(u.jsx)(yt.a.Control,{type:"file",onChange:function(e){l.setFieldValue("pic",e.target.files[0])}}),Object(u.jsxs)(ve.a,{type:"submit",variant:"secondary",size:"sm",children:[Object(u.jsx)(_t.a,{style:{fontSize:"24px",marginBottom:"4px",marginRight:"2px"}}),"Add Image"]})]}),l.errors.pic&&l.touched.pic?Object(u.jsx)("p",{className:"mt-2",style:{marginLeft:"12px",fontSize:"15px",color:"red",fontWeight:"lighter",fontFamily:"Roboto"},children:l.errors.pic}):null]})})})})},St=a(411),Pt=a(412),Tt=a(413);var Ct=function(e){var t=e.formik,a=e.deleteImage,r=Object(n.useState)(null),c=Object(s.a)(r,2),i=c[0],l=c[1],o=Object(n.useState)(null),j=Object(s.a)(o,2),b=j[0],m=j[1],h=Object(n.useState)(!1),x=Object(s.a)(h,2),v=x[0],g=x[1],y=Object(d.b)(),w=function(){g(!1)};return Object(u.jsxs)(u.Fragment,{children:[t.values&&t.values.images?t.values.images.map((function(e,t){return Object(u.jsx)(St.a,{className:"pic_block",style:{marginLeft:"6px"},children:Object(u.jsx)(Pt.a,{onClick:function(){return function(e,t){l(e.match(/(waves_uploads?\/)([0-9]*)/g)),m(t),g(!0)}(e,t)},children:Object(u.jsx)(Tt.a,{image:e,className:"pic_block",height:"100%",width:"100%",style:{imageRendering:"-webkit-optimize-contrast"}})})},e)})):null,Object(u.jsxs)(fe.a,{show:v,onHide:w,children:[Object(u.jsx)(fe.a.Header,{closeButton:!0,children:Object(u.jsx)(fe.a.Title,{children:"Confirm Delete"})}),Object(u.jsx)(fe.a.Body,{children:"Are you sure about deleting this image?"}),Object(u.jsxs)(fe.a.Footer,{children:[Object(u.jsx)(ve.a,{variant:"danger",onClick:function(){var e;a(b),y((e=i,function(){var t=Object(p.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/products/delete/",{publicID:e},le());case 3:a(J("Image deleted successfully!")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a(K(t.t0.response.data.message));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())),w(),m(null),m(null)},children:"Delete"}),Object(u.jsx)(ve.a,{variant:"secondary",onClick:w,children:"Close"})]})]})]})},Et=a(414),Ft=a(404),Rt=a(421),qt=a(415),It=a(406),At=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(d.c)((function(e){return e.notifications})),l=Object(d.c)((function(e){return e.brands})),o=Object(d.b)(),j=Object(De.a)({initialValues:{model:"",brand:"",frets:"",woodtype:"",description:"",price:"",available:"",shipping:!1,images:[]},validationSchema:gt,onSubmit:function(e){h(e)}}),h=function(e){var t;c(!0),o((t=e,function(){var e=Object(p.a)(O.a.mark((function e(a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/api/products/",t,le());case 3:n=e.sent,a($(n.data)),a(J("Product added successfully!")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(K(e.t0.response.data.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(n.useEffect)((function(){i&&i.success&&e.history.push("/dashboard/admin/admin_products"),i&&i.error&&c(!1)}),[i,e.history]),Object(n.useEffect)((function(){o(ft())}),[o]),Object(u.jsxs)($e,{title:"Add Product",children:[Object(u.jsx)("hr",{}),r?Object(u.jsx)(b,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ct,{formik:j,deleteImage:function(e){return function(e){var t=j.values.images;t.splice(e,1),j.setFieldValue("images",t)}(e)}}),Object(u.jsx)(kt,{imageUrl:function(e){return function(e){var t=j.values.images;t.push(e.url),j.setFieldValue("images",t)}(e)}}),Object(u.jsx)(Et.a,{className:"mt-3 mb-3"}),Object(u.jsxs)("form",{className:"mt-3 article_form",onSubmit:j.handleSubmit,children:[Object(u.jsx)("div",{className:"form-group mt-2",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"model",label:"Enter a model",variant:"outlined"},j.getFieldProps("model")),ie(j,"model")))}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"frets",type:"number",label:"Enter frets",variant:"outlined",onWheel:function(e){return e.target.blur()}},j.getFieldProps("frets")),ie(j,"frets")))}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"woodtype",label:"Enter the woodtype",variant:"outlined"},j.getFieldProps("woodtype")),ie(j,"woodtype")))}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsxs)(Ft.a,{variant:"outlined",children:[Object(u.jsx)("h5",{children:"Select a brand"}),Object(u.jsxs)(Rt.a,Object(m.a)(Object(m.a)({name:"brand"},j.getFieldProps("brand")),{},{error:!(!j.errors.brand||!j.touched.brand),children:[Object(u.jsx)(qt.a,{value:"",children:Object(u.jsx)("em",{children:"None"})}),l&&l.all?l.all.map((function(e){return Object(u.jsx)(qt.a,{value:e._id,children:e.name},e._id)})):null]})),j.errors.brand&&j.touched.brand?Object(u.jsx)(It.a,{error:!0,children:j.errors.brand}):null]})}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)(Object(m.a)({style:{width:"100%"},name:"description",label:"Enter a description",variant:"outlined"},j.getFieldProps("description")),ie(j,"description")),{},{multiline:!0,rows:4}))}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"price",type:"number",label:"Enter the price",variant:"outlined",onWheel:function(e){return e.target.blur()}},j.getFieldProps("price")),ie(j,"price")))}),Object(u.jsx)(Et.a,{className:"mt-3 mb-3"}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"available",type:"number",label:"How many are there in stock?",variant:"outlined",onWheel:function(e){return e.target.blur()}},j.getFieldProps("available")),ie(j,"available")))}),Object(u.jsx)(Et.a,{className:"mt-3 mb-3"}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsxs)(Ft.a,{variant:"outlined",children:[Object(u.jsx)("h5",{children:"Do we offer free shipping?"}),Object(u.jsxs)(Rt.a,Object(m.a)(Object(m.a)({name:"shipping"},j.getFieldProps("shipping")),{},{error:!(!j.errors.shipping||!j.touched.shipping),children:[Object(u.jsx)(qt.a,{value:!0,children:" Yes"}),Object(u.jsx)(qt.a,{value:!1,children:" Nope"})]})),j.errors.shipping&&j.touched.shipping?Object(u.jsx)(It.a,{error:!0,children:j.errors.shipping}):null]})}),Object(u.jsx)(Et.a,{className:"mt-3 mb-3"}),Object(u.jsx)(Le.a,{variant:"contained",color:"primary",type:"submit",children:"Add product"})]})]})]})},Bt=function(e){var t=Object(n.useState)(vt),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(s.a)(i,2),o=l[0],j=l[1],h=Object(d.c)((function(e){return e.products})),x=Object(d.c)((function(e){return e.notifications})),v=Object(d.c)((function(e){return e.brands})),g=Object(d.b)(),y=Object(De.a)({enableReinitialize:!0,initialValues:r,validationSchema:gt,onSubmit:function(e){w(e)}}),w=function(t){j(!0),g(function(e,t){return function(){var a=Object(p.a)(O.a.mark((function a(n){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.patch("/api/products/product/".concat(t),e,le());case 3:n(J("Product updated successfully!")),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n(K(a.t0.response.data.message));case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}(t,e.match.params.id))};return Object(n.useEffect)((function(){x&&(x.success||x.error)&&j(!1)}),[x]),Object(n.useEffect)((function(){var t=e.match.params.id;g(ft()),j(!0),t&&g(xe(t))}),[g,e.match.params.id]),Object(n.useEffect)((function(){var e;h&&h.byId&&(c({model:(e=h.byId).model,brand:e.brand._id,frets:e.frets,woodtype:e.woodtype,description:e.description,price:e.price,available:e.available,shipping:e.shipping,images:e.images}),j(!1))}),[h]),Object(n.useEffect)((function(){return function(){g(Y())}}),[g]),Object(u.jsx)($e,{title:"Edit Product",children:o?Object(u.jsx)(b,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ct,{formik:y,deleteImage:function(e){return function(e){var t=y.values.images;t.splice(e,1),y.setFieldValue("images",t)}(e)}}),Object(u.jsx)(kt,{imageUrl:function(e){return function(e){var t=y.values.images;t.push(e.url),y.setFieldValue("images",t)}(e)}}),Object(u.jsx)(Et.a,{className:"mt-3 mb-3"}),Object(u.jsxs)("form",{className:"mt-3 article_form",onSubmit:y.handleSubmit,children:[Object(u.jsx)("div",{className:"form-group mt-2",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"model",label:"Enter a model",variant:"outlined"},y.getFieldProps("model")),ie(y,"model")))}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"frets",type:"number",label:"Enter the amount of frets",variant:"outlined",onWheel:function(e){return e.target.blur()}},y.getFieldProps("frets")),ie(y,"frets")))}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"woodtype",label:"Enter the woodtype",variant:"outlined"},y.getFieldProps("woodtype")),ie(y,"woodtype")))}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsxs)(Ft.a,{variant:"outlined",children:[Object(u.jsx)("h5",{children:"Select a brand"}),Object(u.jsxs)(Rt.a,Object(m.a)(Object(m.a)({name:"brand"},y.getFieldProps("brand")),{},{error:!(!y.errors.brand||!y.touched.brand),children:[Object(u.jsx)(qt.a,{value:"",children:Object(u.jsx)("em",{children:"None"})}),v&&v.all?v.all.map((function(e){return Object(u.jsx)(qt.a,{value:e._id,children:e.name},e._id)})):null]})),y.errors.brand&&y.touched.brand?Object(u.jsx)(It.a,{error:!0,children:y.errors.brand}):null]})}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)(Object(m.a)({style:{width:"100%"},name:"description",label:"Enter a description",variant:"outlined"},y.getFieldProps("description")),ie(y,"description")),{},{multiline:!0,rows:4}))}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"price",type:"number",label:"Enter the price",variant:"outlined",onWheel:function(e){return e.target.blur()}},y.getFieldProps("price")),ie(y,"price")))}),Object(u.jsx)(Et.a,{className:"mt-3 mb-3"}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"available",type:"number",label:"How many are there in stock?",variant:"outlined",onWheel:function(e){return e.target.blur()}},y.getFieldProps("available")),ie(y,"available")))}),Object(u.jsx)(Et.a,{className:"mt-3 mb-3"}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsxs)(Ft.a,{variant:"outlined",children:[Object(u.jsx)("h5",{children:"Do we offer free shipping?"}),Object(u.jsxs)(Rt.a,Object(m.a)(Object(m.a)({name:"shipping"},y.getFieldProps("shipping")),{},{error:!(!y.errors.shipping||!y.touched.shipping),children:[Object(u.jsx)(qt.a,{value:!0,children:" Yes"}),Object(u.jsx)(qt.a,{value:!1,children:" Nope"})]})),y.errors.shipping&&y.touched.shipping?Object(u.jsx)(It.a,{error:!0,children:y.errors.shipping}):null]})}),Object(u.jsx)(Et.a,{className:"mt-3 mb-3"}),Object(u.jsx)(Le.a,{variant:"contained",color:"primary",type:"submit",children:"Edit product"})]})]})})},Lt=a(201),Dt=a.n(Lt),Wt=a(200),zt=a.n(Wt),Ht=function(e){var t=e.prods,a=e.prev,r=e.next,c=e.resetSearch,i=Object(n.useState)(!1),l=Object(s.a)(i,2),o=l[0],d=l[1],j=function(e){a(e)},m=function(e){r(e)};return Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:t.docs.length>0?Object(u.jsxs)(ot.a,{children:[t.hasPrevPage?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ot.a.Prev,{onClick:function(){return j(t.prevPage)}}),Object(u.jsx)(ot.a.Item,{onClick:function(){return j(t.prevPage)},children:t.prevPage})]}):null,Object(u.jsx)(ot.a.Item,{active:!0,children:t.page}),t.hasNextPage?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ot.a.Item,{onClick:function(){return m(t.nextPage)},children:t.nextPage}),Object(u.jsx)(ot.a.Next,{onClick:function(){return m(t.nextPage)}})]}):null]}):Object(u.jsx)("div",{children:o?Object(u.jsx)(b,{}):Object(u.jsxs)("div",{children:[Object(u.jsx)("h5",{children:"No items found"}),Object(u.jsx)(ve.a,{className:"mt-3",variant:"danger",onClick:function(){c(),d(!0),setTimeout((function(){return d(!1)}),1e3)},children:"Reset Search"})]})})})},Ut=function(e){var t=Object(De.a)({initialValues:{keywords:""},validationSchema:We.e({keywords:We.f().min(3,"Please enter at least 3 characters").max(200,"200 characters limit exceeded")}),onSubmit:function(t,a){var n=a.resetForm;e.handleKeywords(t.keywords.trim()),n()}});return Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("form",{className:"mt-3",onSubmit:t.handleSubmit,children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"keywords",label:"Enter your search",variant:"outlined"},t.getFieldProps("keywords")),ie(t,"keywords")))})})},Mt=a(40),Vt=a(120),Yt=a.n(Vt),$t=a(121),Gt=a.n($t),Kt=a(366),Jt=a(416),Xt=a(417),Qt=a(424),Zt=a(405),ea=a(418);var ta=function(e){var t=Object(n.useState)(e.initState),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)([]),l=Object(s.a)(i,2),o=l[0],d=l[1],j=function(t){var a=o.indexOf(t),n=Object(Mt.a)(o);-1===a?n.push(t):n.splice(a,1),d(n),e.handleFilters(n)};return Object(n.useEffect)((function(){e.resetAll&&(d([]),e.handleResetAll())}),[e]),Object(u.jsx)("div",{className:"collapse_items_wrapper",style:{cursor:"pointer"},children:Object(u.jsxs)(Zt.a,{children:[Object(u.jsxs)(Kt.a,{onClick:function(){return c(!r)},children:[Object(u.jsx)(Jt.a,{primary:e.title,className:"collapse_title"}),r?Object(u.jsx)(Yt.a,{}):Object(u.jsx)(Gt.a,{})]}),Object(u.jsx)(ea.a,{in:r,timeout:"auto",children:Object(u.jsx)(Zt.a,{component:"div",disablePadding:!0,children:e.list?e.list.map((function(e){return Object(u.jsxs)(Kt.a,{children:[Object(u.jsx)(Jt.a,{primary:e.name}),Object(u.jsx)(Xt.a,{children:Object(u.jsx)(Qt.a,{color:"primary",onChange:function(){return j(e._id)},checked:-1!==o.indexOf(e._id)})})]},e._id)})):null})})]})})},aa=a(419);var na=function(e){var t=Object(n.useState)(e.initState),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(De.a)({initialValues:{min:0,max:5e3},validationSchema:We.e({min:We.d().min(0,"The mininum is 0").max(5e3,"The maximum is 5000"),max:We.d().min(0,"The mininum is 0").max(5e3,"The maximum is 5000")}),onSubmit:function(t){e.handleRange([t.min,t.max])}});return Object(n.useEffect)((function(){e.resetAll&&(i.handleReset(),e.handleResetAll())}),[i,e]),Object(u.jsx)("div",{className:"collapse_items_wrapper",style:{cursor:"pointer"},children:Object(u.jsxs)(Zt.a,{children:[Object(u.jsxs)(Kt.a,{onClick:function(){return c(!r)},children:[Object(u.jsx)(Jt.a,{primary:e.title,className:"collapse_title"}),r?Object(u.jsx)(Yt.a,{}):Object(u.jsx)(Gt.a,{})]}),Object(u.jsx)(ea.a,{in:r,timeout:"auto",children:Object(u.jsx)(Zt.a,{component:"div",disablePadding:!0,children:Object(u.jsxs)("form",{className:"mt-3",onSubmit:i.handleSubmit,children:[Object(u.jsx)("div",{className:"mb-3",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({InputProps:{startAdornment:Object(u.jsx)(aa.a,{position:"start",children:"$"})},name:"min",type:"number",label:"Enter minimum price",variant:"outlined",onWheel:function(e){return e.target.blur()}},i.getFieldProps("min")),ie(i,"min")))}),Object(u.jsx)("div",{className:"mt-3",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({InputProps:{startAdornment:Object(u.jsx)(aa.a,{position:"start",children:"$"})},name:"max",type:"number",label:"Enter maximum price",variant:"outlined",onWheel:function(e){return e.target.blur()}},i.getFieldProps("max")),ie(i,"max")))}),Object(u.jsx)(Le.a,{type:"submit",className:"mt-2",variant:"outlined",color:"secondary",size:"small",children:"Search"})]})})})]})})},ra={keywords:"",brand:[],min:0,max:5e3,frets:[],page:1},ca=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(s.a)(c,2),l=i[0],o=i[1],j=Object(n.useReducer)((function(e,t){return Object(m.a)(Object(m.a)({},e),t)}),ra),b=Object(s.a)(j,2),h=b[0],O=b[1],p=Object(d.c)((function(e){return e.products})).byPaginate,x=Object(d.c)((function(e){return e.brands})),f=Object(d.b)(),v=function(){return r(!a)},g=function(e){O({page:e})},y=function(e,t){switch(t){case"brands":O({brand:e,page:1});break;case"frets":O({frets:e,page:1});break;default:O(ra)}};return Object(n.useEffect)((function(){f(ft())}),[f]),Object(n.useEffect)((function(){f(pe(h))}),[f,h]),Object(u.jsxs)("div",{className:"page_container",children:[Object(u.jsx)("div",{className:"page_top",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)(Ut,{handleKeywords:function(e){O({keywords:e,page:1})}})})}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"shop_wrapper",children:[Object(u.jsxs)("div",{className:"left",children:[Object(u.jsx)(ta,{initState:!0,title:"Brands",list:x.all,handleFilters:function(e){return y(e,"brands")},resetAll:l,handleResetAll:function(){return o(!l)}}),Object(u.jsx)(ta,{initState:!1,title:"Frets",list:[{_id:20,name:20},{_id:21,name:21},{_id:22,name:22},{_id:24,name:24}],handleFilters:function(e){return y(e,"frets")},resetAll:l,handleResetAll:function(){return o(!l)}}),Object(u.jsx)(na,{initState:!1,title:"Price Range",handleRange:function(e){return function(e){O({min:e[0],max:e[1]})}(e)},resetAll:l,handleResetAll:function(){return o(!l)}})]}),Object(u.jsx)("div",{className:"right",children:Object(u.jsxs)("div",{className:"shop_options",children:[Object(u.jsxs)("div",{className:"shop_grids clear",children:[Object(u.jsx)("div",{className:"grid_btn ".concat(a?"":"active"),onClick:function(){return v()},children:Object(u.jsx)(zt.a,{})}),Object(u.jsx)("div",{className:"grid_btn ".concat(a?"active":""),onClick:function(){return v()},children:Object(u.jsx)(Dt.a,{})})]}),Object(u.jsx)("div",{children:p&&p.docs?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ne,{grid:a,items:p.docs,shop:!0}),Object(u.jsx)(Ht,{prods:p,prev:function(e){return g(e)},next:function(e){return g(e)},resetSearch:function(){return O(ra),void o(!0)}})]}):null})]})})]})})]})},ia=a(202),sa=a.n(ia),la=a(203),oa=a.n(la),da=a(204),ja=a.n(da),ua=function(e){var t=e.detail,a=Object(n.useState)(!1),r=Object(s.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(null),o=Object(s.a)(l,2),j=o[0],b=o[1],m=Object(d.c)((function(e){return e.users})),h=Object(d.b)();return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h1",{style:{color:"#2196F3",display:"inline"},children:[t.brand.name," "]}),Object(u.jsx)("h1",{style:{display:"inline"},children:t.model}),Object(u.jsx)("p",{children:t.description}),function(e){return Object(u.jsxs)("div",{className:"product_tags",children:[Object(u.jsxs)("div",{className:"tag",children:[Object(u.jsx)("div",{children:Object(u.jsx)(sa.a,{})}),Object(u.jsx)("div",{className:"tag_text",children:e.shipping?Object(u.jsx)("div",{children:" Free shipping in India Only "}):Object(u.jsx)("div",{children:" No Free shipping for this product "})})]}),e.available>0?Object(u.jsxs)("div",{className:"tag",children:[Object(u.jsx)("div",{children:Object(u.jsx)(oa.a,{})}),Object(u.jsx)("div",{className:"tag_text",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("strong",{children:e.available})," available in stock"]})})]}):Object(u.jsxs)("div",{className:"tag",children:[Object(u.jsx)("div",{children:Object(u.jsx)(ja.a,{})}),Object(u.jsx)("div",{className:"tag_text",children:Object(u.jsx)("div",{children:"This product is out of stock"})})]})]})}(t),function(e){return Object(u.jsxs)("div",{className:"product_actions",children:[Object(u.jsxs)("div",{className:"price",children:["$",e.price]}),Object(u.jsx)("div",{className:"cart",children:Object(u.jsx)(ne,{type:"add_to_cart_link",runAction:function(){return t=e,m.auth?m.data.verified?void(0!==t.available?h(oe(t)):ce("ERROR","".concat(t.model," is out of stock!"))):(i(!0),b("verify"),!1):(i(!0),b("auth"),!1);var t}})})]})}(t),function(e){return Object(u.jsxs)("div",{className:"product_specifications",children:[Object(u.jsx)("h2",{children:"Specs:"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"item",children:[Object(u.jsx)("strong",{children:"Frets: "})," ",e.frets]}),Object(u.jsxs)("div",{className:"item",children:[Object(u.jsx)("strong",{children:"WoodType: "})," ",e.woodtype]})]})]})}(t),Object(u.jsx)(ye,{modal:c,errorType:j,handleClose:function(){return i(!1)}})]})},ba=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(d.c)((function(e){return e.products})),l=Object(d.b)();return Object(n.useEffect)((function(){l(xe(e.match.params.id))}),[l,e.match.params]),Object(n.useEffect)((function(){return function(){l(Y())}}),[l]),Object(u.jsxs)("div",{className:"page_container",children:[Object(u.jsx)("div",{className:"page_top",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("h6",{className:"mt-2",children:"PRODUCT DETAILS"})})}),Object(u.jsx)("div",{className:"container",children:i&&i.byId?Object(u.jsxs)("div",{className:"product_detail_wrapper",children:[Object(u.jsx)("div",{className:"left",children:Object(u.jsx)("img",{alt:i.byId.model,src:re(i.byId.images),onClick:function(){i.byId.images.length>0&&c(!0)},width:"300px",height:"400px",className:"image",style:{imageRendering:"-webkit-optimize-contrast"}})}),Object(u.jsx)("div",{className:"right",style:{marginLeft:"20px"},children:Object(u.jsx)(ua,{detail:i.byId})})]}):Object(u.jsx)(b,{})}),Object(u.jsxs)(fe.a,{show:r,onHide:function(){return c(!1)},dialogClassName:"modal-90w",children:[Object(u.jsx)(fe.a.Header,{closeButton:!0}),Object(u.jsx)(fe.a.Body,{children:Object(u.jsx)(be.a,Object(m.a)(Object(m.a)({},{dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:i.byId&&i.byId.images?i.byId.images.map((function(e){return Object(u.jsx)("div",{style:{margin:"0 auto",width:"1185px"},children:Object(u.jsx)("img",{alt:i.byId.model,src:e,height:"".concat(window.innerHeight,"px"),className:"image",style:{imageRendering:"-webkit-optimize-contrast"}})},e)})):null}))})]})]})},ma=function(e){var t=e.products,a=e.removeItem;return Object(u.jsx)("div",{children:t?t.map((function(e){return Object(u.jsxs)("div",{className:"user_product_block",children:[Object(u.jsx)("div",{className:"item",children:Object(u.jsx)("div",{className:"image",children:Object(u.jsx)("img",{alt:e.model,src:re(e.images),width:"125px",height:"125px",style:{imageRendering:"-webkit-optimize-contrast"}})})}),Object(u.jsxs)("div",{className:"item",style:{marginTop:"25px",marginLeft:"5px"},children:[Object(u.jsx)("h4",{children:"Product name"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("strong",{children:Object(u.jsxs)("span",{style:{color:"#2196F3",marginLeft:"5px"},children:[e.brand.name," "]})}),Object(u.jsx)("strong",{children:Object(u.jsx)("span",{children:e.model})})]})]}),Object(u.jsxs)("div",{className:"item",style:{marginTop:"25px"},children:[Object(u.jsx)("h4",{children:"Price"}),Object(u.jsx)("div",{children:Object(u.jsxs)("span",{style:{color:"#B12704",marginLeft:"2px"},children:["$",e.price]})})]}),Object(u.jsx)("div",{className:"item btn",children:Object(u.jsx)("div",{className:"cart_remove_btn",style:{marginBottom:"25px"},onClick:function(){return a(e.model)},children:"Remove"})})]},"".concat(e._id))})):null})},ha=a(205),Oa=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(d.c)((function(e){return e.notifications})),l=Object(d.b)(),o=function(e){l(function(e){return function(){var t=Object(p.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/users/removefromcart",{model:e},le());case 3:n=t.sent,a(H(n.data)),a(J("".concat(e," removed from cart!"))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(K(t.t0.response.data.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},j=function(){var t=0;return e.users.data.cart.forEach((function(e){t+=parseInt(e.price)})),t},m=function(){return e.users.data.cart.map((function(e){return{unit_amount:{currency_code:"USD",value:e.price},quantity:1,name:e.model}}))};return Object(n.useEffect)((function(){i&&i.success&&"Payment Successful!"===i.msg&&e.history.push("/dashboard"),i&&i.success&&c(!1)}),[i,e.history]),Object(u.jsx)($e,{title:"Shopping Cart",children:e.users.data.cart&&e.users.data.cart.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("hr",{}),Object(u.jsx)(ma,{products:e.users.data.cart,removeItem:function(e){return o(e)}}),Object(u.jsx)("div",{className:"user_cart_sum",children:Object(u.jsxs)("div",{children:["Total amount="," ",Object(u.jsxs)("span",{style:{color:"#B12704"},children:["$",j()]})]})}),r?Object(u.jsx)(b,{}):Object(u.jsx)("div",{className:"pp_button",children:Object(u.jsx)(ha.PayPalButton,{options:{clientId:"".concat("AaR4T7ysEXloT7p-KSGHJ3qDHjd2bryWKMwHm9Yqeg27FWdt8XLBRHf1dYsK7aTOUp5tJoMttsiaQkmf"),currency:"USD"},createOrder:function(e,t){return t.order.create({purchase_units:[{description:"Guitars and accessories",amount:{currency_code:"USD",value:j(),breakdown:{item_total:{currency_code:"USD",value:j()}}},items:m()}]})},onSuccess:function(e,t){var a;l((a=e.id,function(){var e=Object(p.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/api/transaction/",{orderID:a},le());case 3:n=e.sent,t((r=n.data,{type:q,payload:r})),t(J("Payment Successful!")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(K(e.t0.response.data.message));case 11:case"end":return e.stop()}var r}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),c(!0)}})})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)("hr",{}),Object(u.jsx)("h4",{style:{color:"#686868"},children:"Your Waves Cart is empty."})]})})};f.a.defaults.headers.post["Content-Type"]="application/json";var pa=function(){var e=Object(d.c)((function(e){return e.site})),t=Object(d.b)(),a=Object(De.a)({enableReinitialize:!0,initialValues:{address:e.vars.address,hours:e.vars.hours,email:e.vars.email,phone:e.vars.phone},validationSchema:We.e({address:We.f().min(5,"Address should be at least 5 characters long ").max(100,"Character limit for address is 100").required("Store address is required"),hours:We.f().required("Working hours is required"),email:We.f().email("Please enter a valid email").required("Contact email is required"),phone:We.f().max(15,"Max 15 digit phone number is allowed").required("Contact number is required")}),onSubmit:function(a){var n;t((n=Object(m.a)({_id:e.vars._id},a),function(){var e=Object(p.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.patch("/api/site",n,le());case 3:a=e.sent,t((r=a.data,{type:L,payload:r})),t(J("Site information updated successfully!")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(K(e.t0.response.data.message));case 11:case"end":return e.stop()}var r}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}});return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{className:"mt-4",onSubmit:a.handleSubmit,children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"address",label:"Enter the store address",variant:"outlined"},a.getFieldProps("address")),ie(a,"address")))}),Object(u.jsx)("div",{className:"form-group mt-4",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"phone",label:"Enter the store phone number",variant:"outlined"},a.getFieldProps("phone")),ie(a,"phone")))}),Object(u.jsx)("div",{className:"form-group mt-4",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"hours",label:"Enter the working hours",variant:"outlined"},a.getFieldProps("hours")),ie(a,"hours")))}),Object(u.jsx)("div",{className:"form-group mt-4",children:Object(u.jsx)(ze.a,Object(m.a)(Object(m.a)({style:{width:"100%"},name:"email",label:"Enter the contact email",variant:"outlined"},a.getFieldProps("email")),ie(a,"email")))}),Object(u.jsx)(Le.a,{variant:"contained",color:"primary",type:"submit",className:"mt-3",children:"Update Site"})]})})},xa=function(){return Object(u.jsxs)($e,{title:"Manage Site",children:[Object(u.jsx)("hr",{}),Object(u.jsx)(pa,{})]})},fa=a(207),va=a.n(fa),ga=a(206),ya=a.n(ga),wa={fontSize:"200px"},Na=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!0),l=Object(s.a)(i,2),o=l[0],j=l[1],m=Object(n.useState)(!1),h=Object(s.a)(m,2),x=h[0],v=h[1],g=Object(d.c)((function(e){return e.notifications})),y=Object(d.b)(),w=new URLSearchParams(e.location.search).get("t");return Object(n.useEffect)((function(){w?y(function(e){return function(){var t=Object(p.a)(O.a.mark((function t(a,n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n().users.data.verified){t.next=9;break}return t.next=5,f.a.get("/api/users/verify?validation=".concat(e));case 5:a({type:I}),a(J("Account verified successfully!")),t.next=10;break;case 9:a(J("Account already verified!"));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),"invalid signature"===t.t0.response.data.message?a(K("Incorrect authentication token.")):a(K("Token expired. Please revalidate your email!"));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}(w)):e.history.push("/")}),[y,e.history,w]),Object(n.useEffect)((function(){g&&g.error&&(c(Object(u.jsx)(ya.a,{style:wa})),j(!1),v(!0)),g&&g.success&&(c(Object(u.jsx)(va.a,{style:wa})),j(!1),v(!0))}),[g]),Object(n.useEffect)((function(){x&&setTimeout((function(){return e.history.push("/dashboard")}),2e3)}),[x,e.history]),Object(u.jsx)("div",{className:"page_container",children:o?Object(u.jsx)(b,{}):Object(u.jsx)("div",{style:{textAlign:"center"},children:r})})},_a=function(e){var t=Object(n.useState)(!0),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(d.c)((function(e){return e.users})),j=Object(d.b)();return Object(n.useEffect)((function(){j(function(){var e=Object(p.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/site");case 3:if(a=e.sent,t((r=a.data,{type:B,payload:r})),se()){e.next=7;break}throw new Error;case 7:return e.next=9,f.a.get("/api/auth/isauth",le());case 9:n=e.sent,t(D({data:n.data,auth:!0})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t(D({data:{},auth:!1}));case 16:case"end":return e.stop()}var r}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())}),[j]),Object(n.useEffect)((function(){null!==i.auth&&c(!1)}),[i]),Object(u.jsx)(l.BrowserRouter,{children:r?Object(u.jsx)(b,{full:!0}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ae,{user:i,signOutUser:function(){j(function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee.a.remove("x-access-token",{path:"/"}),t({type:C}),t(J("Logged out successfully!"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),Object(u.jsxs)(Be,{children:[Object(u.jsx)(xt,{}),Object(u.jsxs)(o.g,{children:[Object(u.jsx)(o.d,{path:"/dashboard/admin/edit_product/:id",component:nt(Bt)}),Object(u.jsx)(o.d,{path:"/dashboard/admin/add_product",component:nt(At)}),Object(u.jsx)(o.d,{path:"/dashboard/admin/admin_products",component:nt(pt)}),Object(u.jsx)(o.d,{path:"/dashboard/admin/manage_site",component:nt(xa)}),Object(u.jsx)(o.d,{path:"/dashboard/user/user_cart",component:nt(Oa)}),Object(u.jsx)(o.d,{path:"/dashboard/user/user_info",component:nt(lt)}),Object(u.jsx)(o.d,{path:"/dashboard",component:nt(at)}),Object(u.jsx)(o.d,{path:"/verification",component:Na}),Object(u.jsx)(o.d,{path:"/product_detail/:id",component:ba}),Object(u.jsx)(o.d,{path:"/shop",component:ca}),Object(u.jsx)(o.d,{path:"/sign_in",component:Me}),Object(u.jsx)(o.d,{path:"/",component:ke})]})]}),Object(u.jsx)(Ie,{})]})})},ka=(a(363),a(87)),Sa=a(208);var Pa={vars:{_id:"",addiress:"",hours:"",phone:"",email:""}};var Ta={data:{email:null,firstname:null,lastname:null,history:[],verified:null},auth:null};var Ca=Object(ka.b)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(m.a)(Object(m.a)({},e),{},{data:Object(m.a)(Object(m.a)({},e.data),t.payload.data),auth:t.payload.auth});case C:return Object(m.a)(Object(m.a)({},e),{},{data:Object(m.a)({},Ta.data),auth:!1});case E:return Object(m.a)(Object(m.a)({},e),{},{data:Object(m.a)({},t.payload)});case F:return Object(m.a)(Object(m.a)({},e),{},{data:Object(m.a)(Object(m.a)({},e.data),{},{email:t.payload})});case R:return Object(m.a)(Object(m.a)({},e),{},{data:Object(m.a)(Object(m.a)({},e.data),{},{cart:t.payload})});case q:return Object(m.a)(Object(m.a)({},e),{},{data:Object(m.a)(Object(m.a)({},e.data),{},{history:t.payload.history,cart:[]})});case I:return Object(m.a)(Object(m.a)({},e),{},{data:Object(m.a)(Object(m.a)({},e.data),{},{verified:!0})});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(m.a)(Object(m.a)({},e),{},{bySold:t.payload});case g:return Object(m.a)(Object(m.a)({},e),{},{byDate:t.payload});case y:return Object(m.a)(Object(m.a)({},e),{},{byPaginate:t.payload});case w:return Object(m.a)(Object(m.a)({},e),{},{byId:t.payload});case N:return Object(m.a)(Object(m.a)({},e),{},{byId:null});case _:return Object(m.a)(Object(m.a)({},e),{},{lastAdded:t.payload});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(m.a)(Object(m.a)({},e),{},{error:!0,msg:t.payload});case S:return Object(m.a)(Object(m.a)({},e),{},{success:!0,msg:t.payload});case P:return{};default:return e}},brands:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(m.a)(Object(m.a)({},e),{},{all:t.payload});default:return e}},site:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:case L:return Object(m.a)(Object(m.a)({},e),{},{vars:t.payload});default:return e}}}),Ea=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ka.c;return Object(ka.d)(Ca,e(Object(ka.a)(Sa.a)))};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(d.a,{store:Ea(),children:Object(u.jsx)(_a,{})})}),document.getElementById("root"))}},[[364,1,2]]]);
//# sourceMappingURL=main.1b3c25ab.chunk.js.map